{% extends "base.html" %}

{% block title %}
        <title>编辑作者</title>
{% endblock %}

{% block content1 %}
<div class="panel-heading">编辑作者</div>
{% endblock %}

{% block content %}
    <form class="form-horizontal" action="/edit_author/" method="post">
        <input type="text" name="author_id" value="{{ author.id }}" style="display: none">
        <div class="form-group">
            <label for="book_title" class="col-sm-2 control-label">作者姓名:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control"  name="author_name" value="{{ author.name }}" >
            </div>
        </div>
        <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label">作品：</label>
            <div class="col-sm-10">
                 <select name="books" multiple>
            {% for book in book_list %}
{#                如果当前这本书 在 当前作者关联的所有书 里面 #}
                {% if book in author.book.all %}
                    <option selected value="{{ book.id }}">{{ book.title }}</option>
                {% else %}
                    <option value="{{ book.id }}">{{ book.title }}</option>
                {% endif %}
            {% endfor %}
        </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-success">提交</button>
            </div>
        </div>
    </form>
{% endblock %}